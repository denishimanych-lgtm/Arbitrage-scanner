# Arbitrage Scanner Settings
# Values can be overridden by environment variables or Redis

default: &default
  # === Alert Thresholds ===
  min_spread_pct: 2.0
  high_spread_threshold: 10.0
  medium_spread_threshold: 5.0
  max_spread_pct: 50.0

  # === Liquidity Requirements ===
  min_liquidity_usd: 500000
  min_exit_liquidity_usd: 5000
  min_volume_24h_dex: 200000
  min_volume_24h_futures: 200000

  # === Position Sizing ===
  min_position_size_usd: 1000
  max_position_size_usd: 50000
  suggested_position_usd: 10000

  # === Safety Limits ===
  max_slippage_pct: 2.0
  max_latency_ms: 5000
  max_spread_age_sec: 60
  max_spread_age_hours: 24
  min_depth_vs_history_ratio: 0.3
  warning_depth_ratio: 0.5
  max_position_to_exit_ratio: 0.5
  max_bid_ask_spread_pct: 1.0
  min_history_samples: 10

  # === Price Staleness ===
  max_price_age_ms: 5000  # Max age of price data in ms (staleness check)

  # === Lagging Exchange Detection ===
  lagging_min_exchanges: 4           # Min exchanges for comparison
  lagging_min_deviation_pct: 5.0     # Min deviation % to consider lagging
  lagging_max_other_deviation_pct: 2.0  # Max deviation % for other exchanges

  # === Alert Cooldowns ===
  alert_cooldown_seconds: 300
  lagging_alert_cooldown_seconds: 600

  # === Signal Types ===
  enable_auto_signals: true
  enable_manual_signals: true
  enable_lagging_signals: false

  # === Enabled Exchanges ===
  enabled_cex:
    - binance
    - bybit
    - okx
    - gate
    - mexc
    - kucoin
    - htx
    - bitget

  enabled_dex:
    - jupiter
    - raydium
    - orca

  enabled_perp_dex:
    - hyperliquid
    - dydx
    - gmx
    - vertex

  # === Enabled Networks ===
  enabled_networks:
    - solana
    - ethereum
    - bsc
    - arbitrum

  # === Orderbook Analysis ===
  orderbook_depth: 20  # Number of orderbook levels to fetch

  # === DEX Price Fetcher ===
  dex_quote_amounts_usd: [100, 500, 1000, 2500, 5000, 10000]

  # === System ===
  price_update_interval_sec: 1
  ticker_discovery_interval_hours: 24
  log_level: info

development:
  <<: *default
  min_spread_pct: 1.0
  min_liquidity_usd: 100000
  log_level: debug

production:
  <<: *default
  min_spread_pct: 2.0
  min_liquidity_usd: 500000
  log_level: info

test:
  <<: *default
  min_spread_pct: 0.5
  min_liquidity_usd: 1000
  alert_cooldown_seconds: 1
